<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style>
        body {
            margin:0;
            padding:0px 0px;
            font-family: 'Montserrat', sans-serif;
            background-color: #fffefb;
        }

        .serif {
            font-family: 'Montserrat', sans-serif;
        }
        .sans-serif {
            font-family: 'Montserrat', sans-serif;
        }

        /* choose a light or dark theme to add to the body tag. */
        .dark-theme {
            background-color: #313137;
            color: #fff8e9;
        }
        .light-theme {
            background-color: #fffefb;
            color: #313137;
        }

        .header {
            padding: 60px 0 40px 0;
            text-align: left;
            max-width: 700px;
            margin: 0 auto;
        }

        .story-body, .chart-section, .footer {
            margin:auto;
            max-width: 700px;
        }

        .footer {
            padding-top:20px;
            padding-bottom:20px;
        }

        .chart-section.wide{
            width:100%;
            max-width:1200px;
        }

        .chart-section.wide p.chart-title {
            width:100%;
            max-width:700px;
            margin-left:auto;
            margin-right:auto;
        }
        .chart-section.wide p.chart-subhead {
            width:100%;
            max-width:700px;
            margin-left:auto;
            margin-right:auto;
        }

        /* text styles */

        p.kicker {
            font-size:1rem;
            text-transform:uppercase;
            color: #ffaa00;
            font-weight: 600;
        }

        .text-center {
            text-align:center;
        }

        h1.headline {
            font-size: 3.5rem;
            line-height: 1.1;
            margin-bottom: 0.5rem;
            margin-top: 1rem;
            font-weight: 800;
            color: #313137;
        }

        h2.subhead {
            font-size: 1.4rem;
            line-height: 2rem;
            margin-bottom:0;
            margin-top: 15px;
            font-weight: 400;
            color: #313137;
        }

        p.body-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-top:0;
            margin-bottom:20px;
            color: #313137;
        }

        h3.section-head {
            font-size:2rem;
            margin:40px 0 10px 0;
            font-weight:700;
            line-height:1.3;
            color: #313137;
        }

        .byline {
            font-size: 1.1rem;
            line-height: 0.75;
            margin-top: 1.5rem;
            font-weight: 500;
            color: #313137;
        }

        .date {
            font-size: 0.85rem;
            line-height: 1;
            margin-top: 10px;
            font-weight:400;
            text-transform:uppercase;
            letter-spacing:0.5px;
            color: #313137;
        }

        p.note {
            font-size:0.85rem;
            color: #313137;
        }

        /* chart styles */

        .chart-section {
            width:100%;
            max-width:1200px;
            padding:40px 0px;
        }

        .story-body .chart-section {
            padding-top:0px;
        }

        .chart-row {
            display:flex;
            justify-content: space-between;
            margin-top:20px;
        }

        a {
          color: #ffaa00;
          text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        p.chart-title {
            font-size:1.8rem;
            font-weight:700;
            max-width:700px;
            margin-left:auto;
            margin-right:auto;
            color: #ffaa00;
            text-align: center;
            margin-bottom: 10px;
        }

        p.chart-subhead {
            margin:0 auto;
            max-width:700px;
            font-size:1rem;
            margin-bottom:20px;
            text-align: center;
            color: #313137;
        }

        .image-container {
            width: 100%;
            max-width: 800px;
            margin: 40px auto;
            text-align: center;
        }

        .image-container img {
            width: 100%;
            height: auto;
        }



        .stat-highlight {
            font-size: 2rem;
            font-weight: 800;
            color: #ffaa00;
            text-align: center;
            margin: 30px 0;
        }

        .code-link {
            opacity: 0.7;
            margin-left: 15px;
            background: rgba(255, 170, 0, 0.1);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .code-link a {
            color: #ffaa00 !important;
            text-decoration: none;
        }

        .code-link:hover {
            opacity: 1;
            background: rgba(255, 170, 0, 0.2);
        }

        /* mobile */

        @media (max-width:700px) {

            .chart-row {
                display:block;
            }

            .chart-row .chart {
                padding:0;
            }

            .image-container {
                margin: 20px 0;
            }

            /* Add padding to the story-body and chart-section */
            .header, .story-body, .chart-section {
                padding: 0 15px;
            }

            .header {
                padding: 40px 15px 30px 15px;
            }

            h1.headline {
                font-size: 2.5rem;
            }

            h2.subhead {
                font-size: 1.2rem;
            }



            .stat-highlight {
                font-size: 1.5rem;
            }
        }

        /* Scrollytelling styles */
        .scrolly-container {
            position: relative;
            margin-bottom: 60px;
            display: flex;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .sticky-thing {
            position: sticky;
            top: 0;
            z-index: 1;
            height: 100vh;
            width: 60%;
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #fffefb;
        }

        .chart-header {
            text-align: center;
            margin-bottom: 20px;
            padding: 0 20px;
            max-width: 900px;
        }

        .sticky-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffaa00;
            margin-bottom: 10px;
        }

        .sticky-subtitle {
            font-size: 1rem;
            color: #313137;
            margin-bottom: 0;
        }

        .sticky-thing img {
            max-width: 90%;
            max-height: 70%;
            object-fit: contain;
        }

        .steps-container {
            position: relative;
            z-index: 100;
            width: 40%;
            padding: 2em;
            padding-bottom: 4em;
        }

        .step {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 70vh;
            min-height: 50vh;
        }

        .step > * {
            width: 100%;
            margin: 1.3em 0;
            text-align: left;
            padding: 1.5em;
            background-color: rgba(255, 170, 0, 0.05);
            color: #313137;
            border-radius: 8px;
            border-left: 4px solid #ffaa00;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        @media (max-width: 900px) {
            .scrolly-container {
                flex-direction: column;
            }

            .sticky-thing {
                width: 100%;
                height: 60vh;
                margin-bottom: 20px;
            }

            .steps-container {
                width: 100%;
                padding: 0 1em;
            }

            .step > * {
                width: 100%;
                padding: 1.2em;
                font-size: 1rem;
                margin: 1em 0;
            }

            .sticky-title {
                font-size: 1.4rem;
            }

            .sticky-subtitle {
                font-size: 0.9rem;
            }

            .chart-header {
                margin-bottom: 15px;
            }
        }
    </style>

    <!-- google fonts: Montserrat (sans-serif) -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i&display=swap" rel="stylesheet">
    
    <!-- Scrollytelling scripts -->
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.2.0/scrollama.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.3.0/d3.min.js"></script>
      
    <title>Manhattan School Bus Delays and Congestion Pricing</title>
  </head>
    
  <body class="light-theme">
    <div class="header">
      <p class="kicker">NYC Transportation</p>
      <h1 class="headline">Congestion Pricing Cuts School Bus Delays in Manhattan</h1>
      <p class="byline">By <a href="https://ashley-yihui-lee.github.io/">Ashley Lee</a> <span class="code-link"><a href="https://github.com/ashley-yihui-lee/school-bus-delays">View Code</a></span></p>
      <p class="date">March 2025</p>
    </div>

    <div class="story-body" style="padding-top: 40px;">
      <p class="body-text serif">Punctuality is something we teach our children to value.</p>  
      
      <p class="body-text serif">But for many students in New York City, the school bus often keeps them from arriving at school on time.</p>  
      
      <p class="body-text serif">"I keep hearing these kids are missing their first period math, and they're close to failing because they haven't had the continuity to receive the sessions," said Sara Catalinotto, co-founder of Parents to Improve School Transportation.</p>
      
      <p class="body-text serif">The current school bus system is plagued by multiple issues, ranging from antiquated city contracts to understaffing. Among them is heavy traffic.</p>
      
      <p class="body-text serif">For the 2023-2024 school year, heavy traffic makes up 60% of the bus delays in the city. A potential relief to the bus delays is congestion pricing.</p>
      
      <p class="body-text serif">On January 5, New York City launched its long-anticipated congestion pricing program, charging most drivers to enter Lower Manhattan, aiming to reduce traffic.</p>
    </div>

    <div class="chart-section">
      <div class="image-container">
        <img src="map.png" alt="NYC Congestion Pricing Zone Map">
        <p class="chart-subhead">The congestion pricing zone covers Lower Manhattan below 60th Street</p>
      </div>
    </div>

    <div class="story-body">
      <p class="body-text serif">Among the estimated 570,000 vehicles entering the congestion zone everyday, there are the city's iconic yellow school buses, with about 150,000 students on them.</p>
      
      <div class="stat-highlight">
        Since congestion pricing was introduced, Manhattan's school bus delays have dropped by 54.3%.
      </div>
    </div>

    <div class="chart-section">
      <div class="image-container">
        <img src="image1.png" alt="School Bus Delay Reduction in Manhattan">
      </div>
    </div>

    <!-- Scrollytelling Section -->
    <section id="scrolly-charts" class="scrolly-container">
      <div class="sticky-thing">
        <div class="chart-header">
          <p class="sticky-title">Monthly School Bus Delays in Manhattan</p>
          <p class="sticky-subtitle">Heavy traffic delays by month, comparing 2024 vs. 2025</p>
        </div>
        <img src="image2.png" alt="School Bus Charts">
      </div>
      <div class="steps-container">
        <div class="step" id="step1">
          <p>Each month since implementation has seen fewer delays than the same period the year before.</p>
        </div>
        <div class="step" id="step2">
          <p>The decline in Manhattan spans all delay durations — from minor setbacks to delays exceeding 90 minutes.</p>
        </div>
      </div>
    </section>

    <div class="story-body">
      <p class="body-text serif">So far, congestion pricing appears to be a partial solution to the problem. Yet, it is not enough. It doesn't affect school buses that run in other parts of the city that are still stuck in heavy traffic.</p>
      
      <p class="body-text serif">More importantly, about 40% of the bus delays have different underlying causes than just traffic.</p>
      
      <p class="body-text serif">The long and complicated routes are one of the main root causes.</p>
      
      <p class="body-text serif">This is a problem that has lingered for over a decade. In 2013, bus drivers faced major layoffs after the removal of the Employee Protection Plan.</p>
      
      <p class="body-text serif">To compensate for a shortage of drivers, the city often combines multiple schools onto a single route—even when those schools are nowhere near each other or start at different times.</p>
      
      <p class="body-text serif">"Now more kids are late because routes are longer," said Catalinotto.</p>
      
      <p class="body-text serif">This results in students spending hours on buses each day, with some not getting picked up until after the school day has already begun.</p>
      
      <p class="body-text serif">With the chronic delays, families are suffering too.</p>
      
      <p class="body-text serif">"People in the family have to be on call to transport their own children for free. People have definitely had to leave jobs, turn down freelance work, cut their hours," Catalinotto shared. "We already paid for the bus. And now we're paying for this too."</p>
      
      <p class="body-text serif">While congestion pricing has shown promising results in Manhattan, addressing the broader school transportation crisis will require comprehensive reforms beyond traffic reduction alone.</p>
    </div>

    <div style="height: 80px;"></div>

    <script>
      /*************
      
      This is the JavaScript that makes the scrolly work 
      
      *************/

      /* 
      This part attaches a scroll to the element with id="scrolly-charts"    
      */
      (() => {
        const scroller = scrollama()

        scroller
          .setup({
            parent: document.querySelector("#scrolly-charts"),
            step: ".step",
            offset: 0.6,
          })
          .onStepEnter(function ({ element, index, direction }) {
            const event = new CustomEvent("stepin", { detail: { direction: direction } })
            element.dispatchEvent(event)
          })
          .onStepExit(function ({ element, index, direction }) {
            const event = new CustomEvent("stepout", { detail: { direction: direction } })
            if (direction === "up" && element.previousElementSibling) {
              const event = new CustomEvent("stepin", { detail: { direction: direction } })
              element.previousElementSibling.dispatchEvent(event)
            }
          })

        window.addEventListener("resize", scroller.resize)
      })()

      /*
      This part sets up your actions. In this case, it's changing the image and text in the scrolly container.
      */
      d3.select("#step1").on('stepin', (e) => {
        const container = d3.select(e.target.closest(".scrolly-container"));
        if (container.select("img").node()) {
          container.select("img").attr("src", "image2.png");
        }
        if (container.select(".sticky-title").node()) {
          container.select(".sticky-title").text("Monthly School Bus Delays in Manhattan");
          container.select(".sticky-subtitle").text("Heavy traffic delays by month, comparing 2024 vs. 2025");
        }
      });

      d3.select("#step2").on('stepin', (e) => {
        const container = d3.select(e.target.closest(".scrolly-container"));
        if (container.select("img").node()) {
          container.select("img").attr("src", "image3.png");
        }
        if (container.select(".sticky-title").node()) {
          container.select(".sticky-title").text("School Bus Delays by Duration in Manhattan");
          container.select(".sticky-subtitle").text("Number of delays by time length, comparing 2024 vs. 2025");
        }
      });
    </script>
      
  </body>
</html>
